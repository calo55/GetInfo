window.__require=function e(t,i,n){function o(c,r){if(!i[c]){if(!t[c]){var d=c.split("/");if(d=d[d.length-1],!t[d]){var s="function"==typeof __require&&__require;if(!r&&s)return s(d,!0);if(a)return a(d,!0);throw new Error("Cannot find module '"+c+"'")}c=d}var l=i[c]={exports:{}};t[c][0].call(l.exports,function(e){return o(t[c][1][e]||e)},l,l.exports,e,t,i,n)}return i[c].exports}for(var a="function"==typeof __require&&__require,c=0;c<n.length;c++)o(n[c]);return o}({ActionDefine:[function(e,t){"use strict";cc._RF.push(t,"81ab1RUWURC7a9MpIoVW/7h","ActionDefine");var i=e("./GameDefine"),n=cc.Enum({null_action:0,clockwise_rotation:1,randspeed_clockwise_ratation:2,rand_rotation:3,warning_blink:4,delay_pos_to:5,star_display:6,img_jelly:9,turntable_rotate:12,move_and_fadeout:21,fast_shake:22,jump_to:23,scale_to:24,repeat_jump:25,move_to:28,delay_distroy:29,scene_fade_show:26,scene_fade_hide:27,physics_sync_time:10,delay_addeffect:11,setting_localZOrder:30,setting_opactiy:32,clone_animation_destory:33,UIShow_scaleChange:7,UIClose_scaleChange:8,UIShow_SweetAlert:13,UIClose_SweetAlert:14,UIShow_LayerFadeChange:15,UIClose_LayerFadeChange:16,UIShow_Spread:17,UIClose_Spread:18,UIShow_Fade:19,UIClose_Fade:20}),o={};o.ActionClassBase=cc.Class({name:"ActionClassBase",properties:{}});var a=function(e){return d(null,e,null,null,!0)||{}},c=function(e,t){var i=e&&e.node?e.node:e;null!=i&&i.stopActionByTag(t)},r=function(){},d=function(e,t,d,s,l){void 0===d&&(d=null),void 0===s&&(s=null),void 0===l&&(l=!1);var u=null,_=e&&e.node?e.node:e;if(null!=_||l){switch(l||d||(d=a(t)),d&&(d.end_func=d.end_func||s),t){case n.clockwise_rotation:if(l)return{repeat:1,b_repeat_forever:!0,rotation:360,time:2};u=d.b_repeat_forever?_.runAction(cc.repeatForever(cc.rotateBy(d.time,d.rotation))):_.runAction(cc.sequence(cc.repeat(cc.rotateBy(d.time,d.rotation),d.repeat),cc.callFunc(d.end_func||r,e)));break;case n.randspeed_clockwise_ratation:if(l)return{repeat:1,b_repeat_forever:!0,rotation:360,min_time:2,max_time:4};var p=Math.random()*(d.max_time-d.min_time)+d.min_time;u=d.b_repeat_forever?_.runAction(cc.repeatForever(cc.rotateBy(p,d.rotation))):_.runAction(cc.sequence(cc.repeat(cc.rotateBy(p,d.rotation),d.repeat),cc.callFunc(d.end_func||r,e)));break;case n.rand_rotation:if(l)return{min_rotate:-20,max_rotate:20};var h=Math.random()*(d.max_rotate-d.min_rotate)+d.min_rotate;_.rotation=h;break;case n.warning_blink:if(l)return{interval:1,begin_opacity:128,end_opacity:255};c(_,t),_.opacity=d.begin_opacity,u=_.runAction(cc.repeatForever(cc.sequence(cc.fadeTo(d.interval/2,d.end_opacity),cc.fadeTo(d.interval/2,d.begin_opacity))));break;case n.img_jelly:break;case n.turntable_rotate:if(l)return{begin_rorate:0,rotate_round_min:10,rotate_round_max:15,end_rotate:100,time:5};d.begin_rorate=i.rotateIn0_360(d.begin_rorate),d.end_rotate=i.rotateIn0_360(d.end_rotate);var g=i.getRandNumber(d.rotate_round_min,d.rotate_round_max);_.rotation=d.begin_rorate;var f=360*g+(360-d.begin_rorate)+d.end_rotate,v=.5*Math.random()+2.5,m=d.time-v,F=360*Math.random()+360,y=f-F;u=_.runAction(cc.sequence(cc.rotateBy(m,y),cc.rotateBy(v,F).easing(cc.easeQuarticActionOut()),cc.callFunc(d.end_func||r,e)));break;case n.move_and_fadeout:if(l)return{begin_pos:cc.v2(0,0),end_pos:cc.v2(0,0),move_time:1,fade_time_delay:.8,fade_time:.2,is_hide:!1};var b=d.fade_time_delay;_.setPosition(d.begin_pos),u=_.runAction(cc.spawn(cc.moveBy(d.move_time,d.end_pos),cc.sequence(cc.delayTime(b),cc.fadeOut(d.fade_time),cc.callFunc(function(){d.is_hide&&(_.active=!1)}),cc.callFunc(d.end_func||r,e))));break;case n.fast_shake:if(l)return{rotate_rand:15,time:1};var x=_.rotation,T=cc.repeat(cc.sequence(cc.delayTime(.017),cc.callFunc(function(){_.rotation=cc.randomMinus1To1()*d.rotate_rand})),Math.floor(d.time/.017));_.runAction(T),u=_.runAction(cc.sequence(cc.delayTime(d.time),cc.callFunc(function(){_.rotation=x}),cc.callFunc(d.end_func||r,e)));break;case n.jump_to:if(l)return{end_pos:cc.v2(0,0),time:.3,jump_height:40,jumps:1};u=_.runAction(cc.sequence(cc.jumpTo(d.time,d.end_pos.x,d.end_pos.y,d.jump_height,d.jumps),cc.callFunc(d.end_func||r,e)));break;case n.scale_to:if(l)return{end_scale:cc.v2(0,0),time:.3,repeat:0};if(0==d.repeat)u=_.runAction(cc.sequence(cc.scaleTo(d.time,d.end_scale.x,d.end_scale.y),cc.callFunc(d.end_func||r,e)));else if(d.repeat>0){var A=_.getScaleX(),w=_.getScaleY(),R=cc.sequence(cc.scaleTo(d.time,d.end_scale.x,d.end_scale.y),cc.scaleTo(d.time,A,w));u=_.runAction(cc.sequence(cc.repeat(R,d.repeat),cc.callFunc(d.end_func||r,e)))}else{var C=_.getScaleX(),S=_.getScaleY(),E=cc.sequence(cc.scaleTo(d.time,d.end_scale.x,d.end_scale.y),cc.scaleTo(d.time,C,S));u=_.runAction(cc.repeatForever(E))}break;case n.repeat_jump:if(l)return{jump_height:50,jump_widthwise:0,jump_top_time:.2,top_delay_time:.2,jump_bottom_time:.15,bottom_delay_time:.2,repeat_count:-1};var M=cc.sequence(cc.moveBy(d.jump_top_time,d.jump_widthwise,d.jump_height).easing(cc.easeSineIn()),cc.delayTime(d.top_delay_time),cc.moveBy(d.jump_bottom_time,-d.jump_widthwise,-d.jump_height),cc.delayTime(d.bottom_delay_time));u=d.repeat_count>0?_.runAction(cc.sequence(cc.repeat(M,d.repeat_count),cc.callFunc(d.end_func||r,e))):_.runAction(cc.repeatForever(M));break;case n.move_to:if(l)return{move_to_pos:cc.v2(0,0),move_time:2,repeat_count:-1};if(0==d.move_time){_.setPosition(d.move_to_pos);break}var N=_.getPosition(),k=cc.sequence(cc.callFunc(function(){_.setPosition(N)}),cc.moveTo(d.move_time,d.move_to_pos));u=d.repeat_count>0?_.runAction(cc.sequence(cc.repeat(k,d.repeat_count),cc.callFunc(d.end_func||r,e))):_.runAction(cc.repeatForever(k));break;case n.delay_distroy:if(l)return{delay_time:2};u=_.runAction(cc.sequence(cc.delayTime(d.delay_time),cc.callFunc(function(){_.destroy()})));break;case n.setting_localZOrder:if(l)return{localZOrder:-1};_.setLocalZOrder(d.localZOrder);break;case n.setting_opactiy:if(l)return{opacity:255,is_onload:!0};_.opacity=d.opacity;break;case n.clone_animation_destory:if(l)return{is_clone:!0,do_destory:!0,is_clean_child:!1};var P=d.is_clone?cc.instantiate(_):_,B=_.parent.convertToWorldSpaceAR(_.position);d.is_clean_child&&P.destroyAllChildren(),P.removeFromParent(!1);var D=cc.director.getScene();B=D.convertToNodeSpaceAR(B),P.setPosition(B),D.addChild(P);var I=.5,O=P.getComponent(cc.Animation);O&&O.defaultClip&&(I=O.defaultClip.duration,O.play()),u=P.runAction(cc.sequence(cc.delayTime(I),cc.callFunc(d.end_func||r,e),cc.callFunc(function(){d.do_destory&&P.destroy()})));break;case n.scene_fade_show:if(l)return{fade_time:.3};_.opacity=0,u=_.runAction(cc.sequence(cc.fadeIn(d.fade_time),cc.callFunc(d.end_func||r,e)));break;case n.scene_fade_hide:if(l)return{fade_time:.5};u=_.runAction(cc.sequence(cc.fadeOut(d.fade_time),cc.callFunc(d.end_func||r,e)));break;case n.star_display:if(l)return{time_1:.2,time_2:.1,time_3:.1,begin_scale:2,scale_to_1:.78,scale_to_2:1.2,scale_to_3:1,fade_to_1:255,fade_to_2:178,fade_to_3:255};_.setScale(d.begin_scale),_.setOpacity(0),u=_.runAction(cc.spawn(cc.sequence(cc.scaleTo(d.time_1,d.scale_to_1),cc.scaleTo(d.time_2,d.scale_to_2),cc.scaleTo(d.time_3,d.scale_to_3)),cc.sequence(cc.fadeTo(d.time_1,d.fade_to_1),cc.fadeTo(d.time_2,d.fade_to_2),cc.fadeTo(d.time_3,d.fade_to_3),cc.callFunc(d.end_func||r,e))));break;case n.physics_sync_time:if(l)return{time:5};var G=_.getComponent(cc.RigidBody);G&&G.schedule(function(){G.syncPosition(),G.syncRotation()},.05,d.time/.05);break;case n.delay_pos_to:if(l)return{time:1,pos_to:cc.v2(0,0)};u=_.runAction(cc.sequence(cc.delayTime(d.time),cc.callFunc(function(){_.setPosition(d.pos_to),d.end_func()})));break;case n.delay_addeffect:if(l)return o.delay_addeffect;if(null!=d.effect_pre){cc.director.getPhysicsManager().enabled=!0;var L=(_=d.target?d.target:_).getChildByName(d.effect_pre.name);null!=L&&L.destroy(),d.time>0?u=_.runAction(cc.sequence(cc.delayTime(d.time),cc.callFunc(function(){_.addChild(cc.instantiate(d.effect_pre))},_))):_.addChild(cc.instantiate(d.effect_pre))}break;case n.UIShow_scaleChange:if(l)return{time_1:1/30*8,time_2:1/30*10,begin_scale:.01,scale_1:1.15,end_scale:1,ease_speed_1:2,ease_speed_2:.8};_.setScale(d.begin_scale),u=_.runAction(cc.sequence(cc.scaleTo(d.time_1,d.scale_1).easing(cc.easeIn(d.ease_speed_1)),cc.scaleTo(d.time_2,d.end_scale).easing(cc.easeElasticOut(d.ease_speed_2)),cc.callFunc(d.end_func||r,e)));break;case n.UIClose_scaleChange:if(l)return{time_1:.2,time_2:1/30*5.9,scale_1:1.05,end_scale:.01,ease_speed_1:3};u=_.runAction(cc.sequence(cc.scaleTo(d.time_1,d.scale_1).easing(cc.easeBackOut()),cc.scaleTo(d.time_2,d.end_scale).easing(cc.easeElasticIn(d.ease_speed_1)),cc.callFunc(d.end_func||r,e)));break;case n.UIShow_SweetAlert:if(l)return{begin_scale:.5,scale_1:1.05,scale_2:.95,end_scale:1,time_1:.135,time_2:.105,time_3:.06};_.setScale(d.begin_scale),u=_.runAction(cc.sequence(cc.scaleTo(d.time_1,d.scale_1),cc.scaleTo(d.time_2,d.scale_2),cc.scaleTo(d.time_3,d.end_scale),cc.callFunc(d.end_func||r,e)));break;case n.UIClose_SweetAlert:if(l)return{begin_scale:1,scale_1:1.05,scale_2:.95,end_scale:.001,end_opacity:0,time_1:.2*.45,time_2:.2*.35,time_3:.2*.2};var z=d.time_1+d.time_2+d.time_3;u=_.runAction(cc.spawn(cc.sequence(cc.scaleTo(d.time_1,d.scale_1),cc.scaleTo(d.time_2,d.scale_2),cc.scaleTo(d.time_3,d.end_scale),cc.callFunc(d.end_func||r,e)),cc.fadeTo(z,d.end_opacity)));break;case n.UIShow_LayerFadeChange:if(l)return{begin_scale:.5,end_scale:1,begin_opacity:0,end_opacity:255,time_1:.3};_.setScale(d.begin_scale),_.setOpacity(d.begin_opacity),u=_.runAction(cc.spawn(cc.sequence(cc.scaleTo(d.time_1,d.end_scale),cc.callFunc(d.end_func||r,e)),cc.fadeTo(d.time_1,d.end_opacity)));break;case n.UIClose_LayerFadeChange:if(l)return{end_scale:.5,end_opacity:0,time_1:.2};u=_.runAction(cc.spawn(cc.sequence(cc.scaleTo(d.time_1,d.end_scale),cc.callFunc(d.end_func||r,e)),cc.fadeTo(d.time_1,d.end_opacity)));break;case n.UIShow_Spread:if(l)return{begin_scale:cc.v2(0,1),end_scale:cc.v2(1,1),begin_opacity:0,end_opacity:255,time_1:.2};_.setScale(d.begin_scale.x,d.begin_scale.y),_.setOpacity(d.begin_opacity),u=_.runAction(cc.spawn(cc.sequence(cc.scaleTo(d.time_1,d.end_scale.x,d.end_scale.y),cc.callFunc(d.end_func||r,e)),cc.fadeTo(d.time_1,d.end_opacity)));break;case n.UIClose_Spread:if(l)return{scale_1:cc.v2(.5,1),end_scale:cc.v2(0,1),end_opacity:0,time_1:.25,time_2:.25};u=_.runAction(cc.sequence(cc.scaleTo(d.time_1,d.scale_1.x,d.scale_1.y),cc.spawn(cc.scaleTo(d.time_2,d.end_scale.x,d.end_scale.y),cc.fadeTo(d.time_2,d.end_opacity)),cc.callFunc(d.end_func||r,e)));break;case n.UIShow_Fade:if(l)return{begin_opacity:0,end_opacity:255,time_1:.3};_.setOpacity(d.begin_opacity),u=_.runAction(cc.sequence(cc.fadeTo(d.time_1,d.end_opacity),cc.callFunc(d.end_func||r,e)));break;case n.UIClose_Fade:if(l)return{begin_opacity:255,end_opacity:0,time_1:.2};_.setOpacity(d.begin_opacity),u=_.runAction(cc.sequence(cc.fadeTo(d.time_1,d.end_opacity),cc.callFunc(d.end_func||r,e)))}return null!=u&&u.setTag(t),l?{}:void 0}};o.delay_addeffect=cc.Class({extends:o.ActionClassBase,name:"delay_addeffect",properties:{time:0,clean_same_name:!0,target:cc.Node,effect_pre:cc.Prefab}}),t.exports.ActionEnum=n,t.exports.doCommonAction=d,t.exports.getActionConfig=a,t.exports.ActionClassDefine=o,t.exports.stopActionByEnum=c,t.exports.hasActionByEnum=function(e,t){var i=e&&e.node?e.node:e;return null!=i?!!i.getActionByTag(t):(cc.Animation,!1)},cc._RF.pop()},{"./GameDefine":"GameDefine"}],AlgorithmManager:[function(e,t){"use strict";cc._RF.push(t,"ee9e9sXQeNPEpaWgBr22XPV","AlgorithmManager");var i=cc.Class({properties:{},statics:{getInstance:function(){return this._instance||(this._instance=new this),this._instance}},ctor:function(){},getWriterAdditionScore:function(e,t,i,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0);var o=[e,t,i,n];o.sort(function(e,t){return e-t});var a=.2*o[3]+.4*o[2]+.6*o[1]+.8*o[0];return cc.log("\u4f5c\u8005\u5c5e\u6027\u52a0\u6210\u7684\u5206\u6570\u4e3a",a),a||0},getWriterLvAddition:function(e){return void 0===e&&(e=0),e},getWriterGradeAddition:function(e){return void 0===e&&(e=0),10*e},getThemeAddition:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=1),GameDefine.getRandNumber(e,t)},getWorkbenchAddition:function(e,t,i,n,o){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=0);var a=[e,t,i,n];return a.sort(function(e,t){return e-t}),(.2*a[3]+.4*a[2]+.6*a[1]+.8*a[0])*(1+o)},getWorkAdditionAll:function(e,t,i,n,o){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=0),e+t+i+n+o},getOpusResultGold:function(e,t){void 0===e&&(e=1),void 0===t&&(t=10);var i=GameDefine.getRandNumber(0,10);i=GameDefine.oneIn(2)?i:-i,cc.log("countfit",i),t+=i,t=(t/=100)<=0?.1:t,cc.log("\u5339\u914d\u5ea6\u503c",t);var n=GameDefine.getRandNumber(100,300);return n/=100,Math.floor(1e3*e*t*n)},getOpusResultGold_Myself:function(e){void 0===e&&(e=1);var t=GameDefine.getRandNumber(4,7);return t/=10,Math.floor(1e3*e*t)},getOpusResultStudyCard:function(e){void 0===e&&(e=1);var t=GameDefine.getRandNumber(5,30),i=Math.floor(e*(t/100));return Math.floor(i)},checkFill:function(t,i){var n=e("PlayerSaveData").getInstance();if(!n.checkFillOK())return!1;var o=n.getRenown(),a=t-i;return o<=300&&a>3e3&&a<9e3||o>300&&o<=600&&a>=6e3&&a<=2e4||o>600&&o<=1e3&&a>=9e3&&a<=5e4||o>1e3&&a>=1e4&&a<=1e5},addReward:function(t,i,n,o){void 0===o&&(o=!0);var a=e("PlayerSaveData").getInstance(),c=0,r="";if(i=i||0,1==t)a.addGold(i),r="\u83b7\u5f97\u91d1\u5e01"+i,GameDefine.dUDEvent(GameDefine.Notification.GameScene,GameEnum.GameSceneEvent.updateMoney,0);else if(2==t)a.addDiamond(i),r="\u83b7\u5f97\u94bb\u77f3"+i,GameDefine.dUDEvent(GameDefine.Notification.GameScene,GameEnum.GameSceneEvent.updateDiamond,0),c=1;else if(3==t){var d=e("DataManager").getInstance(),s=d.getUnlockWriter(a);s.length<=1&&(s=[300001,300002]);var l=MyDefine.arrayRandomOne(s),u=i||0;a.getData(PlayerSaveEnum.writer,l).piece+=u,r="\u83b7\u5f97\u4f5c\u8005"+(d.getWriterForSid(l).name||"")+"\u788e\u7247"+u,c=4}else 4==t?(a.addIdea(i),GameDefine.dUDEvent(GameDefine.Notification.GameScene,GameEnum.GameSceneEvent.updateIdea,0),r="\u83b7\u5f97\u70b9\u5b50"+i,c=3):5==t?(a.addStudyCard(i),r="\u83b7\u5f97\u8fdb\u4fee\u5361"+i,c=5):6==t?(a.addStoreInfoPiece(i),r="\u83b7\u5f97\u9547\u5e97\u4e4b\u5b9d\u788e\u7247"+i,c=6):7==t?(a.addSpaceShopGold(i),r="\u83b7\u5f97\u65f6\u7a7a\u8d27\u5e01"+i):8==t&&(c=2,a.addRenown(i),r="\u83b7\u5f97\u4eba\u6c14"+i);n&&GameDefine.dUDEvent(GameDefine.Notification.GameScene,GameEnum.GameSceneEvent.flyGold,{starPos:n,style:c}),o&&GameDefine.dUDEvent(GameDefine.Notification.GameScene,GameEnum.GameSceneEvent.openTips,r)},setHttpPost_DataCollect:function(e,t,i){if(e){this.customUserId&&(e.user_id=this.customUserId);var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState)if(n.status>=200&&n.status<400){if(t){var e=n.responseText;try{e=JSON.parse(e)}catch(a){}console.log("Post >> requestOK"),t(e)}}else{var o=n.responseText;console.log("Post >> requestFail",o),i&&i("not 200")}};var o="https://bookshop-wx-9gtdtupvfe2319e3-1306254935.ap-shanghai.app.tcloudbase.com";window.tt?o="https://bookshop-tt-9gt10pij4486cc52-1306254935.ap-shanghai.app.tcloudbase.com":window.qq&&(o="https://bookshop-qq-9gromzjhd1095a6e-1306254935.ap-shanghai.app.tcloudbase.com"),n.open("POST",o+"/data_collection_load",!0),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(e))}}});t.exports=i,cc._RF.pop()},{DataManager:void 0,PlayerSaveData:void 0}],CloudManager:[function(e,t){"use strict";cc._RF.push(t,"83301INkE5EeIgl0GW2Igs0","CloudManager");var i="https://bookshop-wx-9gtdtupvfe2319e3-1306254935.ap-shanghai.app.tcloudbase.com",n=cc.Class({properties:{},statics:{getInstance:function(){return this._instance||(this._instance=new this),this._instance}},ctor:function(){},setHttpPost_DataCollect:function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState)if(n.status>=200&&n.status<400){if(e){var i=n.responseText;try{i=JSON.parse(i)}catch(a){console.log(a)}console.log("Post >> requestOK"),e(i)}}else{var o=n.responseText;console.log("Post >> requestFail",o),t&&t("not 200")}};var o=i;"tt"==window.line?o="https://bookshop-tt-9gt10pij4486cc52-1306254935.ap-shanghai.app.tcloudbase.com":"qq"==window.line?o="https://bookshop-qq-9gromzjhd1095a6e-1306254935.ap-shanghai.app.tcloudbase.com":"wx"==window.line&&(o=i),n.open("GET",o+"/data_collection_load",!0),n.setRequestHeader("Content-Type","application/json"),n.send()}});t.exports=n,cc._RF.pop()},{}],GameDefine:[function(e,t){"use strict";var i;cc._RF.push(t,"f182c/e7clBkIoU+HcMumbO","GameDefine"),t.exports.Notification={GameScene:"1",ShopScene:"2",HotUpdate_Finished:"3",LevelLoading:"4",Arsenal:"5",NewHand:"6"},t.exports.UserLocal={HaveArchive:"HaveArchive",ArchiveData:"ArchiveData"},t.exports.valOr=function(e,t){return null!=e?e:t},t.exports.setChildStr=function(e,t,i){if(e)return e=e.getChildByName(t),this.setStr(e,i)},t.exports.setStr=function(e,t){if(e){var i=e.getComponent(cc.EditBox)||e.getComponent(cc.Label)||e.getComponent(cc.RichText)||e.getComponentInChildren(cc.EditBox)||e.getComponentInChildren(cc.Label)||e.getComponentInChildren(cc.RichText);return i?(i.string=t,i):void 0}},t.exports.getStr=function(e){if(e){var t=e.getComponent(cc.EditBox)||e.getComponentInChildren(cc.EditBox)||e.getComponent(cc.Label)||e.getComponentInChildren(cc.Label)||e.getComponent(cc.RichText)||e.getComponentInChildren(cc.RichText);return t?t.string:""}},t.exports.getStrNum=function(e,t){var i=parseInt(this.getStr(e));return null==i?t:i},t.exports.getBrotherStr=function(e){if(e){var t=e.parent;return t?this.getStr(t):""}},t.exports.setBrotherStr=function(e,t){if(e){var i=e.parent;i&&this.setStr(i,t)}},t.exports.getBrotherStrNum=function(e){if(e){var t=e.parent;return t?this.getStrNum(t):""}},t.exports.prefixInteger=function(e,t){return(Array(t).join("0")+e).slice(-t)},t.exports.getGridPosByMapPos=function(e,t,i){var n;return void 0===i&&(i=1),void 0===t?(n=e.x,t=e.y):n=e,cc.v2(Math.floor(n/i),Math.floor(t/i))},t.exports.getGridTagByGridPos=function(e,t,i){var n;return void 0===i&&(i=1e4),void 0===t?(n=e.x,t=e.y):n=e,n*i+t},t.exports.getGridTagByMapPos=function(e,t,i,n){return void 0===i&&(i=1),void 0===n&&(n=1e4),this.getGridTagByGridPos(this.getGridPosByMapPos(e,t,i),void 0,n)},t.exports.getMapPosByGridPos=function(e,t,i){var n;return void 0===i&&(i=1),void 0===t?(n=e.x,t=e.y):n=e,cc.v2(i/2+n*i,i/2+t*i)},t.exports.getGridTagByTagChange=function(e,t,i,n){var o;return void 0===n&&(n=1e4),void 0===i?(o=t.x,i=t.y):o=t,e+o*n+i},t.exports.getGridPosByTag=function(e,t){if(void 0===t&&(t=1e4),Math.abs(e%t)>t/2){var i=e%t;return e>0?i-=t:i+=t,cc.v2(Math.floor((e-i)/t),i)}var n=e%t;return cc.v2(n,Math.floor((e-n)/t),n)},t.exports.getRectCenterPos=function(e,t){return void 0===t&&(t=1),cc.v2((e.x+e.width/2)*t,(e.y+e.height/2)*t)},t.exports.judgeTouchCameraNode=function(e,t,i){var n=t.getNodeToCameraTransform(i);return new cc.Rect(n.tx,n.ty,i.width*n.a,i.height*n.d).contains(e)},t.exports.getPointAngle=function(e,t){return cc.v2(e.x*Math.cos(t)-e.y*Math.sin(t),e.x*Math.sin(t)+e.y*Math.cos(t))},t.exports.getPointRotation=function(e,i){return t.exports.getPointAngle(e,t.exports.DegreesToRadians(i))},t.exports.rotateIn0_360=function(e){return e<0&&(e+=360*Math.ceil(-e/360)),e>=360&&(e-=360*Math.floor(e/360)),e},t.exports.getRotateByPos=function(e,i){return void 0===i&&(i=cc.Vec2.UP),0==e.x&&0==e.y?0:t.exports.RadiansToDegrees(e.signAngle(i))},t.exports.RadiansToDegrees=function(e){return cc.RadiansToDegrees?cc.RadiansToDegrees(e):57.29577951*e},t.exports.DegreesToRadians=function(e){return cc.DegreesToRadians?cc.DegreesToRadians(e):.01745329252*e},t.exports.getVecRotation=function(e){return 90-t.exports.RadiansToDegrees(e.signAngle(cc.Vec2.ZERO))},t.exports.convertNodeToNodeSpace=function(e,t,i){return void 0===i&&(i=cc.Vec2.ZERO),e&&t?t.convertToNodeSpaceAR(e.convertToWorldSpaceAR(i)):cc.Vec2.ZERO},t.exports.getMinPos=function(e,t){return e.x=Math.min(e.x,t.x),e.y=Math.min(e.y,t.y),e},t.exports.getMaxPos=function(e,t){return e.x=Math.max(e.x,t.x),e.y=Math.max(e.y,t.y),e},t.exports.objectClone=function(e){if(null===e)return null;if("object"!=typeof e)return e;if(e.constructor===Date)return new Date(e);if(e.constructor===RegExp)return new RegExp(e);var t=new e.constructor;for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];t[i]="object"==typeof n?this.objectClone(n):n}return t},t.exports.ArrayEqual=function(e,t){if(Array.isArray(e)&&Array.isArray(t)&&e.length==t.length){for(var i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}return!1},t.exports.findNumInArrayIndex=function(e,t,i){void 0===i&&(i=!0);for(var n=0;n<t.length;n++)if(i?e<=t[n]:e<t[n])return n;return t.length},t.exports.getRandNumber=function(e,t,i){if(Array.isArray(i)){var n=t-e+1;i.length>=n&&i.splice(0,i.length);for(var o=0,a=this.getRandNumber(0,n-1-i.length);o<i.length&&!(i[o]>a);o++,a++);return i.splice(o,0,a),a+e}return null==t&&(t=e,e=0),Math.floor(Math.random()*(t-e+1))+e},t.exports.oneIn=function(e){return Math.random()*e<1},t.exports.getNumByStr=function(e,t){if(null==e)return t;var i=e.replace(/[^0-9]/gi,"");return isNaN(i)?t:i},t.exports.forInVect=function(e,t,i,n,o){void 0===n&&(n=1),void 0===o&&(o=void 0);for(var a=cc.Vec2.ZERO,c=0;c<e.y;c+=n)for(var r=0;r<e.x;r+=n)if(a.x=r,a.y=c,o&&(a.x+=o.x,a.y+=o.y),0==t.call(i,a))return},t.exports.isTouchInNode=function(e,t){return e._hitTest(t)},t.exports.forInRect=function(e,t,i,n){void 0===n&&(n=1);for(var o=cc.Vec2.ZERO,a=e.x;a<e.x+e.width;a+=n)for(var c=e.y;c<e.y+e.height;c+=n)if(o.x=a,o.y=c,0==t.call(i,o))return},t.exports.dUDEvent=function(e,t,i){void 0===i&&(i=null);var n;n=null!=i?{id:t,val:i}:t;var o=new cc.Event.EventCustom(e,!0);o.setUserData(n),cc.director.dispatchEvent(o)},t.exports.dispatchNodeDataEvent=function(e,t,i,n){if(void 0===n&&(n=null),null!=e){var o;o=null!=n?{id:i,val:n}:i;var a=new cc.Event.EventCustom(t,!0);a.setUserData(o),e.dispatchEvent(a)}},t.exports.randomArray=function(e){var t=e.length,i=0,n=0,o=0,a=0;do{var c=t-i;if(c<=0)break;(o=c-1)!=(n=Math.floor(Math.random()*c))?(a=e[o],e[o]=e[n],e[n]=a,i++):i++}while(i<t)},window.AdaptiveScreen=function(){var e=cc.Canvas.instance.fitWidth,t=(cc.Canvas.instance.fitHeight,[1024/768,1334/750,1624/750]),i=[t[0]+t[1],t[1]+t[2]],n=cc.view.getFrameSize().width/cc.view.getFrameSize().height;n<1&&(n=cc.view.getFrameSize().height/cc.view.getFrameSize().width);for(var o=cc.view.getFrameSize().width>cc.view.getFrameSize().height,a=2,c=0;c<2;c++)if(n<i[c]/2){a=c;break}0==a?(cc.Canvas.instance.fitWidth=!1,cc.Canvas.instance.fitHeight=!0):2==a&&(o?(cc.Canvas.instance.fitWidth=!1,cc.Canvas.instance.fitHeight=!0):(cc.Canvas.instance.fitWidth=!0,cc.Canvas.instance.fitHeight=!1)),e!=cc.Canvas.instance.fitWidth||cc.Canvas.instance.fitHeight},t.exports.pauseAllChildrenParticle=function(e){var t=e.getComponentsInChildren(cc.ParticleSystem);for(var i in t)this.pauseParticle(t[i])},t.exports.judgeAllParticleIdle=function(e,t){void 0===t&&(t=!1);for(var i=e.getComponentsInChildren(cc.ParticleSystem),n=0;n<i.length;n++){var o=i[n];if((!t||o.duration>=0)&&0!=o.particleCount)return!1}return!0},t.exports.pauseParticle=function(e){e.emissionRate>0&&(e.last_rate=e.emissionRate),e.emissionRate=0},t.exports.resumeParticle=function(e){null!=e.last_rate&&(e.emissionRate=e.last_rate)},t.exports.doubleTouch=function(e,t,i){return void 0===t&&(t=.3),void 0===i&&(i=11),null!=e.getActionByTag(i)?(e.stopActionByTag(i),!0):(e.runAction(cc.delayTime(t)).setTag(i),!1)},t.exports.longNumCondense=function(e,t,i,n){var o;if(void 0===t&&(t=3),void 0===i&&(i=2),void 0===n&&(n="kmbt"),e=e.toString(),(o=Math.floor((e.length-1)/t))>0){if(e=e.slice(0,-o*t+i),i>0){var a=e.length-i;e=e.slice(0,a)+"."+e.slice(a)}return e+(n[o-1]||"")}return e},t.exports.getTimeFormat=function(e,t){void 0===t&&(t="hms");var i=e,n=Math.floor(i/3600);i-=3600*n;var o=Math.floor(i/60);i-=60*o;var a=Math.floor(i%60);n=GameDefine.prefixInteger(n,2),o=GameDefine.prefixInteger(o,2),a=GameDefine.prefixInteger(a,2);for(var c="",r=t.length;r-- >0;){c.length>0&&(c=":"+c);var d=t[r];"s"==d&&(c=a.toString()+c),"m"==d&&(c=o.toString()+c),"h"==d&&(c=n.toString()+c)}return c},t.exports.setSpriteGray=function(e,t){var i=e.getComponentsInChildren(cc.Sprite);for(var n in i)i[n].setState(t?1:0)},t.exports._setAsynSpriteFrame=function(e,t,i,n,o,a){if(e)return cc.log(e),void(o&&o.call(a,!1));if(i.isValid){var c=i.getComponent(cc.Sprite);if(c){if(c.spriteFrame=t,n){var r=t.getRect();c.node.height/r.height<c.node.width/r.width?c.node.width=c.node.height/r.height*r.width:c.node.height=c.node.width/r.width*r.height}o&&o.call(a,!0,t)}}},t.exports.setSpriteFrameByRes=function(e,t,i,n,o){void 0===i&&(i=!1),void 0===n&&(n=void 0),void 0===o&&(o=void 0),cc.loader.loadRes(t,cc.SpriteFrame,function(t,a){GameDefine._setAsynSpriteFrame(t,a,e,i,n,o)})},t.exports.setSpriteFrameByResUUid=function(e,t,i,n,o){void 0===i&&(i=!1),void 0===n&&(n=void 0),void 0===o&&(o=void 0),cc.loader.load({uuid:t,type:cc.SpriteFrame},function(t,a){GameDefine._setAsynSpriteFrame(t,a,e,i,n,o)})},t.exports.getAnimationTime=function(e){return e?e.duration/e.speed+e.delay:0},t.exports.addButtonEvent=function(e,t,i,n){if(void 0===n&&(n=!0),e instanceof cc.Button||(e=e.getComponent(cc.Button)),!e)return!1;n&&e.clickEvents.length;var o=new cc.Component.EventHandler;o.target=e.node,o.handler=i,o.component=cc.js.getClassName(t),e.clickEvents.push(o)},t.exports.refreshView=function(e){for(var t=e.content,i=e.prefab,n=e.list,o=e.ext,a=e.scriptName,c=void 0===a?i.name:a,r=t.children,d=0;d<n.length;d++){var s=r[d];s||((s=cc.instantiate(i)).parent=t,s.active=!0);var l=s.getComponent(c);l&&l.init&&l.init(n[d],d,o)}if(r.length>n.length)for(var u=r.length-1;u>n.length-1;u--){var _=r[u];_&&_.destroy()}},t.exports.getUniqueID=(i=1,function(){return i++}),t.exports.copyObj=function(e,t){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},window.GameDefine=t.exports,cc._RF.pop()},{}],GameEnum:[function(e,t){"use strict";cc._RF.push(t,"78f87nEtW1AN5koXNqnRGEB","GameEnum"),t.exports.getEnumName=function(e,t){if(void 0!==e&&void 0!==t)for(var i in e)if(e[i]===t)return i;return""},t.exports.DirectionEnum=cc.Enum({TOP:0,BOTTOM:-1,LEFT:-1,RIGHT:-1,TOP_LEFT:-1,TOP_RIGHT:-1,BOTTOM_LEFT:-1,BOTTOM_RIGHT:-1,CENTER:-1}),t.exports.GameSceneEvent=cc.Enum({updateMoney:0,updateRenown:1,openTips:2,updataADD:3,updataHead:4,updateDiamond:5,jumpToNode:6,flyGold:7,updateIdea:8,fillTips:9,flyAnyGoods:10,flyLight:11}),t.exports.MenuPrefab=cc.Enum({FURNITURE:0,BOOKS:-1,ROLE:-1,STR:-1,ADDITEM:-1}),t.exports.GOEnum=cc.Enum({QUEUE:0,TOROOM:-1,TOMEUN:-1,TOBUY:-1,BUY:-1,BUYAGAIN:-1,BUYFAIL:-1,FUNLOOK:-1,FUNQUEUE:-1,FUN:-1,ANY:-1,GOHOME:-1,HOME:-1,ANHRY:-1,SPTOROOM:-1,READBOOK:-1}),t.exports.GameNewHandEvent=cc.Enum({nextStep:0,startPlay:-1,stopPlay:-1,moveHand:-1}),t.exports.ComponentArrayDefine=cc.Enum({Null:0,Array:100,ArrayFurniture:115,ArrayFurnitureIcon:108,ArrayFtype:27,ArraySPP:19,ArrayEmployee:8,ArrayWriter:16,Array2LFurniture:24,Array2LFurnitureIcon:25,ArrayStudy:26,ArrayMaterial:1,ArrayRole:2,ArrayWorker:3,ArrayRedDot:4}),t.exports.ArrayRedDot=cc.Enum({activity:0,task:-1,shop:-1,book:-1,box:-1,help:-1,cup:-1,explore:-1}),t.exports.ArrayFtype=cc.Enum({Ftype1:0,Ftype2:-1,Ftype3:-1,Ftype4:-1,Ftype5:-1,Ftype6:-1,Ftype7:-1,Ftype8:-1,Ftype9:-1,Ftype10:-1,Ftype11:-1,Ftype12:-1,Ftype13:-1,Ftype14:-1,Ftype15:-1,Ftype16:-1,Ftype17:-1,Ftype18:-1,Ftype19:-1,Ftype20:-1,Ftype21:-1,Ftype22:-1,Ftype23:-1,Ftype24:-1,Ftype25:-1,Ftype26:-1,Ftype27:-1,Ftype28:-1}),t.exports.ArrayFurniture=cc.Enum({Fid101:0,Fid102:-1,Fid103:-1,Fid104:-1,Fid105:-1,Fid201:-1,Fid202:-1,Fid203:-1,Fid204:-1,Fid205:-1,Fid206:-1,Fid301:-1,Fid302:-1,Fid303:-1,Fid304:-1,Fid305:-1,Fid306:-1,Fid401:-1,Fid402:-1,Fid403:-1,Fid404:-1,Fid405:-1,Fid406:-1,Fid501:-1,Fid502:-1,Fid503:-1,Fid504:-1,Fid505:-1,Fid506:-1,Fid601:-1,Fid602:-1,Fid603:-1,Fid604:-1,Fid605:-1,Fid606:-1,Fid701:-1,Fid702:-1,Fid703:-1,Fid704:-1,Fid705:-1,Fid706:-1,Fid801:-1,Fid802:-1,Fid803:-1,Fid804:-1,Fid901:-1,Fid902:-1,Fid903:-1,Fid1001:-1,Fid1002:-1,Fid1003:-1,Fid1101_0:-1,Fid1101_1:-1,Fid1101_2:-1,Fid1101_3:-1,Fid1102_0:-1,Fid1102_1:-1,Fid1102_2:-1,Fid1102_3:-1,Fid1103_0:-1,Fid1103_1:-1,Fid1103_2:-1,Fid1103_3:-1,Fid1201:-1,Fid1202:-1,Fid1203:-1,Fid1301:-1,Fid1302:-1,Fid1303:-1,Fid1304:-1,Fid1401:-1,Fid1402:-1,Fid1403:-1,Fid1404:-1,Fid1501:-1,Fid1502:-1,Fid1503:-1,Fid1504:-1,Fid1505:-1,Fid1506:-1,Fid1601:-1,Fid1602:-1,Fid1603:-1,Fid1701:-1,Fid1702:-1,Fid1703:-1,Fid1801:-1,Fid1802:-1,Fid1803:-1,Fid1804:-1,Fid1901:-1,Fid1902:-1,Fid1903:-1,Fid2001:-1,Fid2002:-1,Fid2003:-1,Fid2101:-1,Fid2102:-1,Fid2103:-1,Fid2201:-1,Fid2202:-1,Fid2203:-1,Fid2301:-1,Fid2302:-1,Fid2303:-1,Fid2401:-1,Fid2402:-1,Fid2403:-1,Fid2404:-1,Fid2405:-1,Fid2501:-1,Fid2601:-1,Fid2602:-1,Fid2603:-1,Fid2701:-1,Fid2702:-1,Fid2703:-1,Fid2801:-1,Fid2802:-1,Fid2803:-1,Fid207:-1,Fid307:-1,Fid407:-1,Fid507:-1,Fid607:-1,Fid707:-1,Fid1104_0:-1,Fid1104_1:-1,Fid1104_2:-1,Fid1104_3:-1,Fid2001_1:-1,Fid2002_1:-1,Fid2003_1:-1}),t.exports.ArrayFurnitureIcon=cc.Enum({Fid101:0,Fid102:-1,Fid103:-1,Fid104:-1,Fid105:-1,Fid201:-1,Fid202:-1,Fid203:-1,Fid204:-1,Fid205:-1,Fid206:-1,Fid301:-1,Fid302:-1,Fid303:-1,Fid304:-1,Fid305:-1,Fid306:-1,Fid401:-1,Fid402:-1,Fid403:-1,Fid404:-1,Fid405:-1,Fid406:-1,Fid501:-1,Fid502:-1,Fid503:-1,Fid504:-1,Fid505:-1,Fid506:-1,Fid601:-1,Fid602:-1,Fid603:-1,Fid604:-1,Fid605:-1,Fid606:-1,Fid701:-1,Fid702:-1,Fid703:-1,Fid704:-1,Fid705:-1,Fid706:-1,Fid801:-1,Fid802:-1,Fid803:-1,Fid804:-1,Fid901:-1,Fid902:-1,Fid903:-1,Fid1001:-1,Fid1002:-1,Fid1003:-1,Fid1101:-1,Fid1102:-1,Fid1103:-1,Fid1201:-1,Fid1202:-1,Fid1203:-1,Fid1301:-1,Fid1302:-1,Fid1303:-1,Fid1304:-1,Fid1401:-1,Fid1402:-1,Fid1403:-1,Fid1404:-1,Fid1501:-1,Fid1502:-1,Fid1503:-1,Fid1504:-1,Fid1505:-1,Fid1506:-1,Fid1601:-1,Fid1602:-1,Fid1603:-1,Fid1701:-1,Fid1702:-1,Fid1703:-1,Fid1801:-1,Fid1802:-1,Fid1803:-1,Fid1804:-1,Fid1901:-1,Fid1902:-1,Fid1903:-1,Fid2001:-1,Fid2002:-1,Fid2003:-1,Fid2101:-1,Fid2102:-1,Fid2103:-1,Fid2201:-1,Fid2202:-1,Fid2203:-1,Fid2301:-1,Fid2302:-1,Fid2303:-1,Fid2401:-1,Fid2402:-1,Fid2403:-1,Fid2404:-1,Fid2405:-1,Fid2501:-1,Fid2601:-1,Fid2602:-1,Fid2603:-1,Fid2701:-1,Fid2702:-1,Fid2703:-1,Fid2801:-1,Fid2802:-1,Fid2803:-1,Fid207:-1,Fid307:-1,Fid407:-1,Fid507:-1,Fid607:-1,Fid707:-1,Fid1104:-1}),t.exports.ArraySPP=cc.Enum({Rid300001:-1,Rid300002:-1,Rid300003:-1,Rid300004:-1,Rid300005:-1,Rid300006:-1,Rid300007:-1,Rid300008:-1,Rid300009:-1,Rid300010:-1,Rid300011:-1,Rid300012:-1,Rid300013:-1,Rid300014:-1,Rid300015:-1,Rid300016:-1,Rid300017:-1,Rid300018:-1,Rid300019:-1}),t.exports.ArrayEmployee=cc.Enum({Rid200001:-1,Rid200002:-1,Rid200003:-1,Rid200004:-1,Rid200005:-1,Rid200006:-1,Rid200007:-1,Rid200008:-1}),t.exports.ArrayWriter=cc.Enum({Wid300001:-1,Wid300002:-1,Wid300003:-1,Wid300004:-1,Wid300005:-1,Wid300006:-1,Wid300007:-1,Wid300008:-1,Wid300009:-1,Wid300010:-1,Wid300011:-1,Wid300012:-1,Wid300013:-1,Wid300014:-1,Wid300015:-1,Wid300016:-1}),t.exports.Array2LFurniture=cc.Enum({Fid101:-1,Fid102:-1,Fid103:-1,Fid104:-1,Fid201:-1,Fid202:-1,Fid203:-1,Fid204:-1,Fid301:-1,Fid302:-1,Fid303:-1,Fid304:-1,Fid401:-1,Fid402:-1,Fid403:-1,Fid404:-1,Fid405:-1,Fid406:-1,Fid407:-1,Fid408:-1,Fid409:-1,Fid410:-1,Fid411:-1,Fid412:-1}),t.exports.Array2LFurnitureIcon=cc.Enum({Fid101:-1,Fid102:-1,Fid103:-1,Fid104:-1,Fid201:-1,Fid202:-1,Fid203:-1,Fid204:-1,Fid301:-1,Fid302:-1,Fid303:-1,Fid304:-1,Fid401:-1,Fid402:-1,Fid403:-1,Fid404:-1,Fid405:-1,Fid406:-1,Fid407:-1,Fid408:-1,Fid409:-1,Fid410:-1,Fid411:-1,Fid412:-1}),t.exports.ArrayStudy=cc.Enum({Sid1001:-1,Sid1002:-1,Sid1003:-1,Sid1004:-1,Sid1005:-1,Sid1006:-1,Sid1007:-1,Sid1008:-1,Sid1009:-1,Sid1010:-1,Sid1011:-1,Sid1012:-1}),t.exports.ArrayMaterial=cc.Enum({Mid1001:-1,Mid1002:-1,Mid1003:-1,Mid1004:-1,Mid1005:-1,Mid1006:-1,Mid1007:-1,Mid1008:-1,Mid1009:-1,Mid1010:-1,Mid1011:-1,Mid1012:-1,Mid1013:-1,Mid1014:-1,Mid1015:-1,Mid1016:-1,Mid1017:-1,Mid1018:-1,Mid1019:-1,Mid1020:-1,Mid2001:-1,Mid2002:-1,Mid2003:-1,Mid2004:-1,Mid2005:-1,Mid2006:-1,Mid2007:-1,Mid2008:-1,Mid2009:-1,Mid2010:-1,Mid2011:-1,Mid2012:-1,Mid2013:-1,Mid2014:-1,Mid2015:-1,Mid2016:-1,Mid2017:-1,Mid2018:-1,Mid2019:-1,Mid2020:-1}),t.exports.ArrayRole=cc.Enum({Rid101001:-1,Rid101002:-1,Rid101003:-1,Rid101004:-1,Rid101005:-1,Rid101006:-1,Rid101007:-1,Rid101008:-1,Rid101009:-1,Rid101010:-1,Rid101011:-1,Rid101012:-1,Rid101013:-1,Rid101014:-1,Rid102001:-1,Rid102002:-1,Rid102003:-1,Rid102004:-1,Rid102005:-1,Rid102006:-1,Rid102007:-1,Rid102008:-1,Rid102009:-1,Rid102010:-1,Rid102011:-1,Rid102012:-1,Rid102013:-1,Rid103001:-1,Rid103002:-1,Rid103003:-1,Rid103004:-1,Rid103005:-1,Rid103006:-1,Rid103007:-1,Rid103008:-1,Rid103009:-1,Rid103010:-1,Rid103011:-1,Rid103012:-1}),t.exports.ArrayWorker=cc.Enum({Wid900001:-1,Wid900002:-1,Wid900003:-1,Wid900004:-1,Wid900005:-1,Wid900006:-1,Wid900007:-1,Wid900008:-1}),window.GameEnum=t.exports,cc._RF.pop()},{}],GameScene:[function(e,t){"use strict";cc._RF.push(t,"3c65c0f5oFP2bjO9vrLjagh","GameScene"),cc.Class({extends:e("Thor"),properties:{item:cc.Prefab},onLoad:function(){this.AlgorithmManager=e("AlgorithmManager").getInstance()},start:function(){this._loginPanel.active=!0,this._menuPanel.active=!1,this._gameCountPanel.active=!1,this._gameDataPanel.active=!1,window.line="wx"},_onBtn_loginTouchEnd:function(){""!=this._ed_account.$EditBox.string||""!=this._ed_password.$EditBox.string?"zxc"==this._ed_account.$EditBox.string&&"zxc666"==this._ed_password.$EditBox.string?(this.showTips("\u767b\u5f55\u6210\u529f..."),this.loginOK()):"hly"==this._ed_account.$EditBox.string&&"111111"==this._ed_password.$EditBox.string&&(this.showTips("\u767b\u5f55\u6210\u529f..."),this.loginOK()):this.showTips("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u8d26\u53f7\u5bc6\u7801")},_onBtn_menuCountTouchEnd:function(){this._menuPanel.active=!1,this._gameCountPanel.active=!0},_onBtn_menuDaDianTouchEnd:function(){this.openDataPanel()},loginOK:function(){this._loginPanel.active=!1,this._menuPanel.active=!0},openDataPanel:function(){this._menuPanel.active=!1,this._gameDataPanel.active=!0,this._ed_year.$EditBox.string=this.getCurrentDate()},_onBtn_zzczTouchEnd:function(){var e=this.getNum(this._ed_zz_tl),t=this.getNum(this._ed_zz_gzl),i=this.getNum(this._ed_zz_zs),n=this.getNum(this._ed_zz_czl),o=this.getNum(this._ed_zz_lv),a=this.getNum(this._ed_zz_pj),c=this.getNum(this._ed_zz_ppd),r=this.getNum(this._ed_zz_xydbg),d=this.getNum(this._ed_zz_xydpp),s=this.getNum(this._ed_gzt_tl),l=this.getNum(this._ed_gzt_gzl),u=this.getNum(this._ed_gzt_zs),_=this.getNum(this._ed_gzt_czl),p=this.AlgorithmManager.getWriterAdditionScore(e,t,i,n),h=this.AlgorithmManager.getWriterLvAddition(o),g=this.AlgorithmManager.getWriterGradeAddition(a),f=this.AlgorithmManager.getThemeAddition(r,d),v=this.AlgorithmManager.getWorkbenchAddition(s,l,u,_),m=this.AlgorithmManager.getWorkAdditionAll(p,h,g,f,v);this._lbl_add_writer.$Label.string="\u4f5c\u8005\u52a0\u6210:"+p,this._lbl_add_lv.$Label.string="\u7b49\u7ea7\u52a0\u6210:"+h,this._lbl_add_pj.$Label.string="\u54c1\u7ea7\u52a0\u6210:"+g,this._lbl_add_tc.$Label.string="\u9898\u6750\u52a0\u6210:"+f,this._lbl_add_gzt.$Label.string="\u5de5\u4f5c\u53f0\u52a0\u6210:"+v,this._lbl_count_score.$Label.string="\u6700\u7ec8\u5206\u6570:"+m,this._lbl_count_gold.$Label.string="\u91d1\u5e01:"+this.AlgorithmManager.getOpusResultGold(m,c),this._lbl_count_jxk.$Label.string="\u8fdb\u4fee\u5361:"+this.AlgorithmManager.getOpusResultStudyCard(m)},_onBtn_wtczTouchEnd:function(){var e=this.getNum(this._ed_zz_tl),t=this.getNum(this._ed_zz_gzl),i=this.getNum(this._ed_zz_zs),n=this.getNum(this._ed_zz_czl),o=this.getNum(this._ed_zz_czl),a=this.getNum(this._ed_zz_pj),c=this.getNum(this._ed_gzt_tl),r=this.getNum(this._ed_gzt_gzl),d=this.getNum(this._ed_gzt_zs),s=this.getNum(this._ed_gzt_czl),l=this.AlgorithmManager.getWriterAdditionScore(e,t,i,n),u=this.AlgorithmManager.getWriterLvAddition(o),_=this.AlgorithmManager.getWriterGradeAddition(a),p=this.AlgorithmManager.getWorkbenchAddition(c,r,d,s),h=this.AlgorithmManager.getWorkAdditionAll(l,u,_,0,p);this._lbl_add_writer.$Label.string="\u4f5c\u8005\u52a0\u6210:"+l,this._lbl_add_lv.$Label.string="\u7b49\u7ea7\u52a0\u6210:"+u,this._lbl_add_pj.$Label.string="\u54c1\u7ea7\u52a0\u6210:"+_,this._lbl_add_tc.$Label.string="\u9898\u6750\u52a0\u6210:0",this._lbl_add_gzt.$Label.string="\u5de5\u4f5c\u53f0\u52a0\u6210:"+p,this._lbl_count_score.$Label.string="\u6700\u7ec8\u5206\u6570:"+h,this._lbl_count_gold.$Label.string="\u91d1\u5e01:"+this.AlgorithmManager.getOpusResultGold_Myself(h),this._lbl_count_jxk.$Label.string="\u8fdb\u4fee\u5361:"+this.AlgorithmManager.getOpusResultStudyCard(h)},getNum:function(e){var t=e.$EditBox.string;return Number(t)||0},showTips:function(e){void 0===e&&(e=""),""!=e&&(this._tips.stopAllActions(),this._tips.opacity=255,this._lbl_tips.$Label.string=e,this._tips.stopAllActions(),this._tips.runAction(cc.sequence(cc.delayTime(1),cc.fadeOut(.2),cc.callFunc(function(){},this))))},getTypeList:function(){var t=e("LoadingConfig").yd,i=e("LoadingConfig").dd;return 1==this._toggle1.$Toggle.isChecked?t:1==this._toggle2.$Toggle.isChecked?i:void 0},getCurrentDate:function(e){var t=0,i=(t=e?new Date(e):new Date).getFullYear(),n=t.getMonth()+1,o=t.getDate();return i+"-"+this.formatZero(n)+"-"+this.formatZero(o)},_onBtn_searchTouchEnd:function(){var e=this._ed_year.$EditBox.string;this.searchInfo(e)},_onBtn_searchtodayTouchEnd:function(){var e=this.getCurrentDate(new Date-864e5);this.searchInfo(e)},_onBtn_sevendayTouchEnd:function(){var e=this.getCurrentDate(new Date-864e5);this.searchInfo(e)},_onBtn_changelineTouchEnd:function(){this._changge_panel.active=!0},_onTouch:function(){this._changge_panel.active=!1},_onBtn_changeWXTouchEnd:function(){window.line="wx",this.changeLine()},_onBtn_changeQQTouchEnd:function(){window.line="qq",this.changeLine()},_onBtn_changeTTTouchEnd:function(){window.line="tt",this.changeLine()},changeLine:function(){var t=this;this._changge_panel.active=!1,this.showTips("\u6b63\u5728\u8bfb\u53d6\u6253\u70b9\u6570\u636e.."),e("CloudManager").getInstance().setHttpPost_DataCollect(function(e){t.datalist=e,t.showTips("\u83b7\u53d6\u6253\u70b9\u6570\u636e\u6210\u529f..."),t.openDataPanel()},function(){t.showTips("\u83b7\u53d6\u6253\u70b9\u6570\u636e\u5931\u8d25")})},searchInfo:function(e){for(var t=this,i=null,n=0;n<this.datalist.length;n++)this.datalist[n].date==e&&(i=this.datalist[n]);if(i){this._sv.view.content.removeAllChildren();var o="",a=this.getTypeList();for(var c in this.addtitle(a),a)Object.hasOwnProperty.call(a,c)&&(i[c]&&""!=i[c]?o+=i[c]+"\n":o+="0\n");var r=cc.instantiate(this.item);r.parent=this._sv.view.content,r.getChildByName("lbl").getComponent(cc.RichText).string="<color=#FFFFFF>"+o+"</c>"}else this.showTips("\u627e\u4e0d\u5230"+e+"\u4fe1\u606f");cc.director.once(cc.Director.EVENT_AFTER_DRAW,function(){t.addOver()})},addtitle:function(e){var t="";for(var i in e)Object.hasOwnProperty.call(e,i)&&e[i]&&(t+=e[i].val+"\n");var n=cc.instantiate(this.item);n.parent=this._sv.view.content,n.getChildByName("lbl").getComponent(cc.RichText).string="<color=#0fffff>"+t+"</c>"},addOver:function(){var e=this._sv.view.content.children;if(0!=e.length){var t=-20,i=0;this._sv.view.content.height=e[0].getChildByName("lbl").height-20;for(var n=0;n<e.length;n++){e[n].x+=t+20,t=e[n].getChildByName("lbl").width,i=e[n].getChildByName("lbl").height;var o=e[n].getChildByName("sp");0==n&&(o.active=!1),o.height=i,this._sv.view.content.width=e[n].x+t+10}}},formatZero:function(e){return(e=e.toString())>=0&&e<=9?"0"+e:e}}),cc._RF.pop()},{AlgorithmManager:"AlgorithmManager",CloudManager:"CloudManager",LoadingConfig:"LoadingConfig",Thor:"Thor"}],LoadingConfig:[function(e,t){"use strict";cc._RF.push(t,"851436jzlVLCowyChStD2Ez","LoadingConfig"),t.exports={yd:{date:{val:"\u65e5\u671f"},game_open:{val:"\u6253\u5f00\u6e38\u620f-\u65b0\u7528\u6237"},game_loading:{val:"\u8bfb\u53d6\u5b8c\u8d44\u6e90-\u65b0\u7528\u6237"},game_loadingok:{val:"\u52a0\u8f7d\u6e38\u620f\u5b8c\u6210-\u65b0\u7528\u6237"},guide_openbox:{val:"\u6253\u5f00\u7bb1\u5b50\u98de\u51fa\u6765"},guide_cleanok:{val:"\u65b0\u624b\u5f15\u5bfc-\u6e05\u7406\u5783\u573e\u5b8c\u6210"},guide_unlockSJ:{val:"\u65b0\u624b\u5f15\u5bfc-\u89e3\u95011\u53f7\u4e66\u67b6"},guide_unlockBook:{val:"\u65b0\u624b\u5f15\u5bfc-\u89e3\u9501\u5c0f\u738b\u5b50"},guide_addPP:{val:"\u65b0\u624b\u5f15\u5bfc-\u5b9d\u76d2\u53ec\u5524\u5ba2\u4eba"},guide_givegold:{val:"\u65b0\u624b\u5f15\u5bfc-\u6361\u91d1\u5e01"},road_1001:{val:"\u8d2d\u4e702\u53f7\u4e66\u67b6"},road_1002:{val:"\u5b8c\u6210\u4e66\u4e2d\u5bfb\u5b9d2\u6b21"},road_1003:{val:"\u8d2d\u4e703\u53f7\u4e66\u67b6"},road_1004:{val:"\u8d2d\u4e70\u300a\u5b89\u5f92\u751f\u7684\u7ae5\u8bdd\u300b"},road_1005:{val:"\u8d2d\u4e70\u300a\u7b80\u7231\u300b"},road_1006:{val:"\u624b\u52a8\u53ec\u55243\u4e2a\u5ba2\u4eba"},road_1007:{val:"\u63a5\u53d7\u76ee\u6807\u4efb\u52a11\u6b21"},road_1008:{val:"\u8d2d\u4e704\u53f7\u4e66\u67b6"},road_1009:{val:"\u8d2d\u4e70\u300a\u6d77\u5e95\u4e24\u4e07\u91cc\u300b"},road_1010:{val:"\u624b\u52a8\u53ec\u5524\u5ba2\u4eba4\u4e2a"},road_1011:{val:"\u8d2d\u4e70\u300a\u540d\u4eba\u4f20\u300b"},road_1012:{val:"\u9886\u53d6\u6bcf\u65e5\u4efb\u52a1\u5956\u52b11\u6b21"},road_1013:{val:"\u9886\u53d6\u6210\u5c31\u4efb\u52a1\u5956\u52b11\u6b21"},road_1014:{val:"\u8d2d\u4e70\u6536\u94f6\u53f0"},road_1015:{val:"\u96c7\u4f63\u5458\u5de5\u94b1\u94b1"},road_1016:{val:"\u624b\u52a8\u53ec\u5524\u5ba2\u4eba4\u4e2a"},road_1017:{val:"\u5347\u7ea7\u94b1\u94b1\u52302\u7ea7"},road_1018:{val:"\u8d2d\u4e70\u996e\u54c1\u53f0"},road_1019:{val:"\u8d2d\u4e70\u300a\u6606\u866b\u8bb0\u300b"},road_1020:{val:"\u8d2d\u4e702\u533a\u9605\u8bfb\u684c"},road_1021:{val:"\u8d2d\u4e70\u7559\u8a00\u677f"},road_1022:{val:"\u96c7\u4f63\u5458\u5de5\u4e66\u8fbe\u4eba"},road_1023:{val:"\u624b\u52a8\u53ec\u5524\u5ba2\u4eba4\u4e2a"},road_1024:{val:"\u5347\u7ea7\u4e66\u8fbe\u4eba2\u7ea7"},road_1025:{val:"\u8d2d\u4e705\u53f7\u4e66\u67b6"},road_1026:{val:"\u8d2d\u4e70\u300a\u516b\u5341\u5929\u73af\u6e38\u5730\u7403\u300b"},road_1027:{val:"\u8d2d\u4e706\u53f7\u4e66\u67b6"},road_1028:{val:"\u5b8c\u6210\u7b7e\u5230\u4efb\u52a11\u6b21"},road_1041:{val:"\u795e\u79d8\u5c9b"},road_1042:{val:"\u89e3\u9501\u5458\u5de5\u62db\u8d22"},road_onecup:{val:"\u5dc5\u5cf0\u4e4b\u8def-1\u661f\u51a0\u519b"},road_twocup:{val:"\u5dc5\u5cf0\u4e4b\u8def-2\u661f\u51a0\u519b"},road_threecup:{val:"\u5dc5\u5cf0\u4e4b\u8def-3\u661f\u51a0\u519b"},road_fourcup:{val:"\u5dc5\u5cf0\u4e4b\u8def-4\u661f\u51a0\u519b"},road_fivecup:{val:"\u5dc5\u5cf0\u4e4b\u8def-5\u661f\u51a0\u519b"},road_sixcup:{val:"\u5dc5\u5cf0\u4e4b\u8def-6\u661f\u51a0\u519b"},road_sevencup:{val:"\u5dc5\u5cf0\u4e4b\u8def-7\u661f\u51a0\u519b"},road_eightcup:{val:"\u5dc5\u5cf0\u4e4b\u8def-8\u661f\u51a0\u519b"},road_ninecup:{val:"\u5dc5\u5cf0\u4e4b\u8def-9\u661f\u51a0\u519b"},get_cup1:{val:"\u83b7\u5f971\u661f\u51a0\u519b"},get_cup2:{val:"\u83b7\u5f972\u661f\u51a0\u519b"},get_cup3:{val:"\u83b7\u5f973\u661f\u51a0\u519b"},get_cup4:{val:"\u83b7\u5f974\u661f\u51a0\u519b"},get_cup5:{val:"\u83b7\u5f975\u661f\u51a0\u519b"},get_cup6:{val:"\u83b7\u5f976\u661f\u51a0\u519b"},get_cup7:{val:"\u83b7\u5f977\u661f\u51a0\u519b"},get_cup8:{val:"\u83b7\u5f978\u661f\u51a0\u519b"},get_cup9:{val:"\u83b7\u5f979\u661f\u51a0\u519b"},get_cupfail1:{val:"\u6ca1\u6709\u83b7\u5f971\u661f\u51a0\u519b"},get_cupfail2:{val:"\u6ca1\u6709\u83b7\u5f972\u661f\u51a0\u519b"},get_cupfail3:{val:"\u6ca1\u6709\u83b7\u5f973\u661f\u51a0\u519b"},get_cupfail4:{val:"\u6ca1\u6709\u83b7\u5f974\u661f\u51a0\u519b"},get_cupfail5:{val:"\u6ca1\u6709\u83b7\u5f975\u661f\u51a0\u519b"},get_cupfail6:{val:"\u6ca1\u6709\u83b7\u5f976\u661f\u51a0\u519b"},get_cupfail7:{val:"\u6ca1\u6709\u83b7\u5f977\u661f\u51a0\u519b"},get_cupfail8:{val:"\u6ca1\u6709\u83b7\u5f978\u661f\u51a0\u519b"},get_cupfail9:{val:"\u6ca1\u6709\u83b7\u5f979\u661f\u51a0\u519b"},online_time_1:{val:"\u6bcf\u65e5\u5728\u7ebf\u65f6\u957f_1\u5206\u949f"},online_time_3:{val:"\u6bcf\u65e5\u5728\u7ebf\u65f6\u957f_3\u5206\u949f"},online_time_5:{val:"\u6bcf\u65e5\u5728\u7ebf\u65f6\u957f_5\u5206\u949f"},online_time_7:{val:"\u6bcf\u65e5\u5728\u7ebf\u65f6\u957f_7\u5206\u949f"},online_time_10:{val:"\u6bcf\u65e5\u5728\u7ebf\u65f6\u957f_10\u5206\u949f"},online_time_15:{val:"\u6bcf\u65e5\u5728\u7ebf\u65f6\u957f_15\u5206\u949f"},online_time_20:{val:"\u6bcf\u65e5\u5728\u7ebf\u65f6\u957f_20\u5206\u949f"},online_time_30:{val:"\u6bcf\u65e5\u5728\u7ebf\u65f6\u957f_30\u5206\u949f"},online_time_60:{val:"\u6bcf\u65e5\u5728\u7ebf\u65f6\u957f_1\u5c0f\u65f6"},online_time_180:{val:"\u6bcf\u65e5\u5728\u7ebf\u65f6\u957f_3\u5c0f\u65f6"},unlock_twofloor:{val:"\u89e3\u95012\u697c"},sign_sevenday:{val:"\u6210\u529f7\u5929\u7b7e\u5230"},explore_first:{val:"\u65f6\u7a7a\u63a2\u7d22\u6b21\u6570"},explore_complete:{val:"\u65f6\u7a7a\u63a2\u7d22\u901a\u5173"},unlock_storegem:{val:"\u89e3\u9501\u9547\u5e97\u4e4b\u5b9d"},create_ok:{val:"\u521b\u4f5c\u6210\u529f"},study_runok:{val:"\u8fdb\u4fee\u6210\u529f"},monster_win:{val:"\u6253\u602a\u517d\u73a9\u6cd5\u80dc\u5229"},monster_fail:{val:"\u6253\u602a\u517d\u73a9\u6cd5\u5f7b\u5e95\u5931\u8d25"},unlock_tree:{val:"\u89e3\u9501\u667a\u6167\u6811"},unlock_house:{val:"\u89e3\u9501\u806a\u660e\u5c4b\u5b50"}},dd:{date:{val:"\u65e5\u671f"},ad_buff_tjhc:{val:"\u5929\u964d\u6a2a\u8d22buff"},ad_fill:{val:"\u8865\u5dee\u4ef7"},ad_treasure:{val:"\u4e66\u4e2d\u5bfb\u5b9d"},ad_twofloor_unlock:{val:"\u4e8c\u697c\u89e3\u9501\u6761\u4ef6"},ad_worker_niuzai:{val:"\u897f\u90e8\u725b\u4ed4"},ad_explore_try:{val:"\u65f6\u7a7a\u63a2\u7d22\u590d\u6d3b"},ad_addQA:{val:"\u589e\u52a0\u7b54\u9898\u6b21\u6570"},ad_gameking_fail:{val:"\u6e38\u620f\u738b\u5931\u8d25\u91cd\u73a9"},ad_autoPP:{val:"\u81ea\u52a8\u589e\u52a0\u5ba2\u4eba20\u6b21"},ad_buff_ylsw:{val:"\u5f15\u6765\u9001\u5f80buff"},ad_worker_nvwang:{val:"\u97ad\u5b50\u5973\u738b"},ad_sign:{val:"\u7b7e\u5230\u5e7f\u544a3\u500d"},ad_offline:{val:"\u79bb\u7ebf\u91d1\u5e01\u7ffb\u500d"},ad_cup_lesscd:{val:"\u51cf\u5c11\u5f53\u524d\u8bc4\u9009cd"},ad_buff_rjdj:{val:"\u65e5\u8fdb\u6597\u91d1buff"},ad_spaceshop_refash:{val:"\u65f6\u7a7a\u5546\u5e97\u5237\u65b0"},ad_ordertask_addtime:{val:"\u4efb\u52a1\u51cf\u5c114\u5c0f\u65f6"},ad_gameking_double:{val:"\u6e38\u620f\u738b\u80dc\u5229\u7ffb\u500d"},ad_employee_time:{val:"\u51cf\u5c11\u5458\u5de5\u5347\u7ea7\u65f6\u95f4"},ad_energy:{val:"\u589e\u52a0\u80fd\u91cf"},ad_cup_double:{val:"\u5956\u676f\u5956\u52b1\u7ffb\u500d"},ad_explore_double:{val:"\u65f6\u7a7a\u63a2\u7d22\u53cc\u500d\u5956\u52b1"},ad_cup_lesstime:{val:"\u51cf\u5c11\u4e0b\u6b21\u8bc4\u9009\u65f6\u95f4"},ad_unlock_story:{val:"\u89e3\u9501\u4eba\u7269\u6545\u4e8b"},ad_monster:{val:"\u602a\u517d\u5956\u52b1\u7ffb\u500d"},ad_party_double:{val:"\u6d3e\u5bf9\u5b9d\u7bb1\u5956\u52b1\u7ffb\u500d"},ad_createOK:{val:"\u521b\u4f5c\u6210\u529f\u5956\u52b1\u7ffb\u500d"},ad_explore_enter:{val:"\u514d\u8d39\u8fdb\u5165\u65f6\u7a7a\u63a2\u7d22"},ad_help:{val:"\u5e2e\u52a9\u91cc\u7684\u5c0f\u5e7f\u544a"},ad_autoPP_double:{val:"\u589e\u52a0\u5ba2\u4eba\u6b21\u65705\u6b21 \u53cc\u500d\u5956\u52b1"},ad_spaceshop_item:{val:"\u65f6\u7a7a\u5546\u5e97 1\u53f7\u7269\u54c1"},ad_achitask_autoget:{val:"\u6210\u5c31\u4efb\u52a1\u81ea\u52a8\u83b7\u53d6\u5e76\u4e14\u7ffb\u500d"},ad_storegem:{val:"\u9547\u5e97\u4e4b\u5b9d\u67e5\u770b\u5e7f\u544a"},ad_order_refresh:{val:"\u76ee\u6807\u4efb\u52a1\u5237\u65b0"},ad_party_go:{val:"\u770b\u5e7f\u544a\u62bd\u53d6\u6d3e\u5bf9\u5b9d\u7bb1"},ad_worker_luoli:{val:"\u841d\u8389--\u6682\u65f6\u4e0d\u4f1a\u51fa\u73b0"},ad_party_fill:{val:"\u6d3e\u5bf9\u5b9d\u7bb1\u8865\u94b1\u5f00\u542f"},ad_achievement:{val:"\u6210\u5c31\u4efb\u52a1\u7ffb\u500d\u5956\u52b1"},ad_monster_again:{val:"\u602a\u517d\u6e38\u620f\u5185\u590d\u6d3b"},ad_monster_cd:{val:"\u602a\u517d\u6e38\u620f\u91cd\u73a9"},ad_stduyUnlock:{val:"\u8fdb\u4fee\u89e3\u9501\u5ea7\u4f4d"},ad_happen_try:{val:"\u4e8b\u4ef6\u6e38\u620f\u91cd\u73a9"},ad_happen_double:{val:"\u4e8b\u4ef6\u6e38\u620f\u5956\u52b1\u7ffb\u500d"},ad_sign_again:{val:"\u7b7e\u5230\u8865\u7b7e"},ad_pp_unlock:{val:"\u5458\u5de5\u5e7f\u544a\u89e3\u9501"}}},cc._RF.pop()},{}],MyDefine:[function(e,t){"use strict";function i(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=e[Symbol.iterator]()).next.bind(i)}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"0bc22l1rjBKAZT2ZH3sgl1D","MyDefine"),t.exports.getBezierArr=function(e,t,i,n){void 0===i&&(i=0),void 0===n&&(n=0);var o=e.add(t);return[e,cc.v2(o.x/2+i,o.y/2+n),t]},t.exports.setAllGrey=function(e,t){for(var i=e.getComponentsInChildren(cc.Sprite),n=0;n<i.length;n++){var o=i[n].getMaterial(t);0==t&&(o=i[n].getMaterial(1)),o&&i[n].setMaterial(0,o)}},t.exports.setAllDark=function(e,t,i){for(var n=e.children,o=0;o<n.length;o++){for(var a=n[o].children,c=0;c<a.length;c++)a[c].color=t?new cc.color(125,125,125):new cc.color(255,255,255),i&&(a[c].color=i);n[o].color=t?new cc.color(125,125,125):new cc.color(255,255,255),i&&(n[o].color=i)}},t.exports.longNumSP=function(e,t,i){if(void 0===t&&(t=2),void 0===i&&(i=!0),null!=e){var n=i?"\u4e07\u4ebf":"wy";if((e=e.toString()).length>4&&e.length<9){if(e=e.slice(0,-4+t),t>0){for(var o=e.length-t,a=e.slice(o),c=a.length,r=!0;c>0;)"0"==a[c-1]&&r?a=a.substring(0,c-1):r=!1,c--;e=a.length>0?e.slice(0,o)+"."+a:e.slice(0,o)}return e+(n[0]||"")}if(e.length>8){if(e=e.slice(0,-8+t),t>0){for(var d=e.length-t,s=e.slice(d),l=s.length,u=!0;l>0;)"0"==s[l-1]&&u?s=s.substring(0,l-1):u=!1,l--;e=s.length>0?e.slice(0,d)+"."+s:e.slice(0,d)}return e+(n[1]||"")}return e}},t.exports.secondsFormat=function(e){if(0==e)return 0;var t=Math.floor(e/3600),i=Math.floor((e-3600*t)/60),n=e-3600*t-60*i,o="";return t&&(o+=t+"\u65f6"),i&&(o+=i+"\u5206"),n&&(o+=n+"\u79d2"),o},t.exports.getTimeFormat=function(e,t){void 0===t&&(t="hms");var i=e,n=Math.floor(i/3600);i-=3600*n;var o=Math.floor(i/60);i-=60*o;var a=Math.floor(i%60);o=GameDefine.prefixInteger(o,2),a=GameDefine.prefixInteger(a,2);for(var c="",r=t.length;r-- >0;){c.length>0&&(c=":"+c);var d=t[r];"s"==d&&(c=a.toString()+c),"m"==d&&(c=o.toString()+c),"h"==d&&(c=n.toString()+c)}return c},t.exports.getType=function(e){var t=typeof e;return"object"!=t?t:Object.prototype.toString.call(e).replace(/^\[object (\S+)\]$/,"$1")},t.exports.fastStringSplit=function(e,t){return void 0===t&&(t=","),e?e.toString().split(t):""},t.exports.arrayRandomOne=function(e){return e[Math.floor(Math.random()*e.length)]},t.exports.PrefixInteger=function(e,t){return(Array(t).join("0")+e).slice(-t).replace(/\s+/g,"")||""},t.exports.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},t.exports.shuffleArr=function(e,t){for(var i=e.slice(),n=0;n<i.length;n++){var o=this.getRandomInt(0,n),a=i[n];i[n]=i[o],i[o]=a}return t?i.slice(0,t):i},t.exports.getArrDifference=function(e,t){return e.concat(t).filter(function(e,t,i){return i.indexOf(e)===i.lastIndexOf(e)})},t.exports.getArrEqual=function(e,t){for(var i=[],n=0;n<t.length;n++)for(var o=0;o<e.length;o++)e[o]===t[n]&&i.push(e[o]);return i},t.exports.getRandomArrayElements=function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=1),e.length<=t)return e;for(var i,n,o=e.slice(0),a=e.length,c=a-t;a-- >c;)i=o[n=Math.floor((a+1)*Math.random())],o[n]=o[a],o[a]=i;return o.slice(c)},t.exports.makeSensitiveMap=function(e){0==e.length&&cc.log("\u51fa\u9519");for(var t,n=new Map,o=i(e);!(t=o()).done;)for(var a=t.value,c=n,r=0;r<a.length;r++){var d=a.charAt(r);if(c.get(d))c=c.get(d);else{!0===c.get("laster")&&c.set("laster",!1);var s=new Map;s.set("laster",!0),c.set(d,s),c=c.get(d)}}return n},t.exports.checkSensitiveWord=function(e,t,i){for(var n=e,o=!1,a=0,c="",r=i;r<t.length;r++){var d=t.charAt(r);if(!(n=n.get(d)))break;if(a++,c+=d,!0===n.get("laster")){o=!0;break}}return a<2&&(o=!1),{flag:o,sensitiveWord:c}},t.exports.filterSensitiveWord=function(e,t){for(var i={flag:!1,sensitiveWord:""},n=e.replace(/[^\u4e00-\u9fa5\u0030-\u0039\u0061-\u007a\u0041-\u005a]+/g,""),o=0;o<n.length;o++)if((i=MyDefine.checkSensitiveWord(t,n,o)).flag)return console.log("\u654f\u611f\u8bcd\u4e3a:"+i.sensitiveWord),!1;return!0},t.exports.convertToWxPos=function(e){if(!e)return null;var t=e.convertToWorldSpaceAR(cc.v2(-e.width*e.anchorX,-e.height*e.anchorY)),i=e.convertToWorldSpaceAR(cc.v2(e.width*(1-e.anchorX),e.height*(1-e.anchorY))),n=cc.view.getCanvasSize(),o=cc.view.getVisibleSize();return{left:t.x/o.width*n.width,top:n.height-i.y/o.height*n.height,width:(i.x-t.x)/o.width*n.width,height:(i.y-t.y)/o.height*n.height}},t.exports.convertToWxPos_Two=function(e){if(!e)return null;var t=e.convertToWorldSpaceAR(cc.v2(-e.width*e.anchorX,-e.height*e.anchorY)),i=e.convertToWorldSpaceAR(cc.v2(e.width*(1-e.anchorX),e.height*(1-e.anchorY))),n=cc.view.getFrameSize(),o=cc.view.getVisibleSize();return{left:t.x/o.width*n.width,top:n.height-i.y/o.height*n.height,width:(i.x-t.x)/o.width*n.width,height:(i.y-t.y)/o.height*n.height}},t.exports.setSpriteFrame=function(e,t,i,n){if(void 0===i&&(i="furniture"),void 0===n&&(n=!0),!e||!i||!t)return console.log("\u8bbe\u7f6e\u7eb9\u7406\u5931\u8d25",t);var o=function(o,a){o?(cc.log("\u627e\u4e0d\u5230 bundle:"+i+"->url:"+t),cc.isValid(e)&&n&&(e.active=!1)):cc.isValid(e)&&a&&e.getComponent(cc.Sprite)&&(e.getComponent(cc.Sprite).spriteFrame=a,n&&(e.active=!0))},a=cc.assetManager.getBundle(i);a?a.load(t,cc.SpriteFrame,o):cc.assetManager.loadBundle(i,function(e,i){if(e)return cc.log(e);i.load(t,cc.SpriteFrame,o)})},window.MyDefine=t.exports,cc._RF.pop()},{}],Thor:[function(e,t){"use strict";cc._RF.push(t,"05b43edeOVI8YpRF2NehJgR","Thor");var i=e("./uikiller"),n=cc.Class({extends:cc.Component,editor:{executeInEditMode:!1},properties:{_bindHammer:!1,debug:!1,isPermeateUIKiller:{default:!1,tooltip:"\u662f\u5426\u4e0d\u62e6\u622auikiller"},fast_replace_js:{default:!1,tooltip:"\u5feb\u901f\u6839\u636e\u8282\u70b9\u540d\u5b57\u66ff\u6362\u7ec4\u4ef6",notify:function(){}}},__preload:function(){this.bindHammer()},getOptions:function(){return{debug:this.debug}},bindHammer:function(){if(!this._bindHammer){this._bindHammer=!0;var e=Date.now(),t=this.getOptions();if(i.bindComponent(this,t),this.debugInfo){var n=Date.now()-e;cc.log("bindComponent "+this.node.name+" duration "+n)}}}});window.Thor=t.exports=n,cc._RF.pop()},{"./uikiller":"uikiller"}],"cocos-help":[function(e,t){"use strict";cc._RF.push(t,"64762NugJpC/6ETW46GD8US","cocos-help"),cc.createPrefab=function(e,t){cc.resources.load(e,cc.Prefab,function(e,i){var n=null;e?cc.error("createPrefab "+e):n=cc.instantiate(i),t&&t(e,n)})},cc.Component.prototype.createNode=function(e,t,i){var n=this;cc.log("createNode "+t),cc.createPrefab(t,function(t,o){e instanceof cc.Node?e.addChild(o):n.node&&n.node instanceof cc.Node&&n.node.addChild(o,0),i&&i(o)})},cc.Component.prototype.destroyNode=function(){this.node&&this.node.destroy()},cc.Node.prototype.hasComponent=function(e){var t=this;return Array.isArray(e)||(e=[e]),!!e.find(function(e){return t.getComponent(e)})},cc.Sprite.prototype.getTextureFilename=function(){if(this.spriteFrame){var e=this.spriteFrame._textureFilename,t=e.indexOf("resources/");return e.substr(t+10)}return""},cc.getSpriteFrameByAtlas=function(e,t){var i=cc.path.mainFileName(e),n=cc.loader.getRes(i,cc.SpriteAtlas);return n?n.getSpriteFrame(t):null},cc.createNodeComponent=function(e){return(new cc.Node).addComponent(e)},cc.Component.prototype.loadScene=function(e,t,i){cc.director.loadScene(t,i)},cc._RF.pop()},{}],"uikiller-plugins":[function(e,t){"use strict";cc._RF.push(t,"440e7HUsftCuJ8tA+eTGl0B","uikiller-plugins");var i=e("./uikiller"),n={name:"UIKillerBindFilter",onCheckNode:function(e,t){if(e===t.node)return!0;var n=t.$options;return(!i.isFunction(n.filter)||!n.filter(e))&&"@"!==e.name[0]&&void 0}},o={hello:"\u4f60\u597dXXX",world:"\u4e16\u754c",1:"hellddo",2:"wrold"},a={name:"UIKillerLabelLanguage",onCheckNode:function(e){var t=e.getComponent(cc.Label);if(t){var i=e.$||e.name,n=o[i];n&&(t.string=n)}}},c={button:"button.mp3",cancel:"cancel.mp3",_btnPlayBoss:""},r={name:"UIKillerTouchSound",onAfterHandleEvent:function(e,t,i,n){0!=window.canPlayEffects&&t.type===cc.Node.EventType.TOUCH_END&&!1!==n&&(c[n]||null==c[e.name]&&c.button||e.name)}};i.registerPlugin(n),i.registerPlugin(a),i.registerPlugin(r),cc._RF.pop()},{"./uikiller":"uikiller"}],uikiller:[function(e,t){"use strict";cc._RF.push(t,"db263mqxsdLII30NkwT0ZVm","uikiller");var i=["_onTouchStart","_onTouchMove","_onTouchEnd","_onTouchCancel"],n={_prefix:"_",_plugins:[],registerPlugin:function(e){var t=this;Array.isArray(e)||(e=[e]),e.forEach(function(e){t._plugins.find(function(t){return t.name===e.name||t===e})||(t._plugins.push(e),e.onRegister&&e.onRegister())})},unregisterPlugin:function(e){if(e||e.name){var t=this._plugins.findIndex(function(t){return t.name===e.name||t===e});t>=0&&this._plugins.splice(t,1)}},_getComponentName:function(e){return e.name.match(/<.*>$/)[0].slice(1,-1)},bindComponent:function(e,t){var n=this;e.$options=t||{};var o=e.node;o._components.forEach(function(e){var t=n._getComponentName(e);o[t="$"+t]=e}),this._bindTouchEvent(o,e,i),this._bindNode(e.node,e)},bindNode:function(e,t,i){var n=this;if(t.$options=i||{},t.$collector){if(t.$collector.node===e)return;delete t.$collector.node,Object.keys(t.$collector).forEach(function(e){delete t[e]})}t.$collector={node:e},e._components.forEach(function(e){var i=n._getComponentName(e);t[i="$"+i]=e,t.$collector[i]=e}),this._bindStartByPlugins(e,t),this._bindNode(e,t),this._bindEndByPlugins(e,t)},_bindStartByPlugins:function(e,t){this._plugins.forEach(function(i){i.onBindStart&&i.onBindStart(e,t)})},_bindEndByPlugins:function(e,t){this._plugins.forEach(function(i){i.onBindEnd&&i.onBindEnd(e,t)})},_bindNode:function(e,t){var i=this,o=e,a=!1;o.name[0]===this._prefix&&o._components.forEach(function(e){var c=i._getComponentName(e);o[c="$"+c]&&t.$options.debug?cc.warn(c+" property is already exists"):(o[c]=e,n.isFunction(e.onBind)&&e.onBind(t),e instanceof Thor&&!e.isPermeateUIKiller&&(a||e===t||(a=!0),o.active||e.bindHammer()))}),this._checkNodeByPlugins(o,t)&&!a&&o.children.forEach(function(e){var n=e.name;if(n[0]===i._prefix){var a=n.indexOf("$");if(-1!==a&&(e.$eventName=n.substr(0,a),e.$=n.substr(a+1),n=e.$eventName+e.$[0].toUpperCase()+e.$.substr(1),e.name=n),t[n]&&t.$options.debug)return void cc.warn(t.name+"."+n+" property is already exists");i._bindTouchEvent(e,t),t[n]=e,t.$collector&&(t.$collector[n]=e)}else o[n]||(o[n]=e);i._bindNode(e,t)})},_getTouchEventName:function(e,t){var i=e.$eventName||e.name;return i&&i.length>0&&"_"==i[0]?(i=i[this._prefix.length].toUpperCase()+i.slice(this._prefix.length+1),t?"_on"+i+t:["_on"+i+"TouchStart","_on"+i+"TouchMove","_on"+i+"TouchEnd","_on"+i+"TouchCancel"]):t?"_on"+i+t:[]},_bindTouchEvent:function(e,t,i){var n=this;if(!e.getComponent(cc.EditBox)){var o=i||this._getTouchEventName(e),a=[cc.Node.EventType.TOUCH_START,cc.Node.EventType.TOUCH_MOVE,cc.Node.EventType.TOUCH_END,cc.Node.EventType.TOUCH_CANCEL];o.forEach(function(i,o){(t[i]||e.getComponent(cc.Button)||e.getComponent(cc.Toggle))&&e.on(a[o],function(o){var a=o.currentTarget;if(!1!==a.interactable&&!1!==a.active){var c=a.getComponent(cc.Button)||a.getComponent(cc.Toggle);if(!c||!1!==c.interactable){var r,d=t[i],s=d||c&&c.clickEvents.length;s&&n._beforeHandleEventByPlugins(a,o,!!d),d&&(!1===(r=d.call(t,a,o))?a._touchListener.setSwallowTouches(!1):(e._touchListener.setSwallowTouches(!0),o.stopPropagation())),s&&n._afterHandleEventByPlugins(a,o,!!d,r)}}})}),this._bindTouchLongEvent(e,t)}},_bindTouchLongEvent:function(e,t){var i=e,o=this._getTouchEventName(i,"TouchLong"),a=t[o];n.isFunction(a)&&(i._touchLongTimer=null,i.on(cc.Node.EventType.TOUCH_END,function(){i._touchLongTimer&&(clearTimeout(i._touchLongTimer),i._touchLongTimer=0,delete i.interactable)}),i.on(cc.Node.EventType.TOUCH_START,function(e){i._touchLongTimer=setTimeout(function(){i.interactable=!!a.call(t,i,e),i._touchLongTimer=0},i.touchLongTime||1e3)}))},_checkNodeByPlugins:function(e,t){return!this._plugins.find(function(i){return i.onCheckNode?!1===i.onCheckNode(e,t):null})},_beforeHandleEventByPlugins:function(e,t,i){this._plugins.forEach(function(n){n.onBeforeHandleEvent&&n.onBeforeHandleEvent(e,t,i)})},_afterHandleEventByPlugins:function(e,t,i,n){this._plugins.forEach(function(o){o.onAfterHandleEvent&&o.onAfterHandleEvent(e,t,i,n)})},isFunction:function(e){return"function"==typeof e}};window.uikiller=t.exports=n,cc._RF.pop()},{}]},{},["AlgorithmManager","CloudManager","ActionDefine","GameDefine","GameEnum","MyDefine","GameScene","LoadingConfig","Thor","cocos-help","uikiller-plugins","uikiller"]);